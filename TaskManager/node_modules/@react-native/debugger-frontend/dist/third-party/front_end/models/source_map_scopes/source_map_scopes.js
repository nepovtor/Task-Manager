<<<<<<< HEAD
import*as e from"../../core/common/common.js";import*as t from"../../core/platform/platform.js";import*as n from"../../core/sdk/sdk.js";import*as r from"../bindings/bindings.js";import*as o from"../formatter/formatter.js";import*as s from"../text_utils/text_utils.js";const i=new WeakMap;function a(e){let t=i.get(e);return void 0===t&&(t=e.requestContentData().then((t=>{if(s.ContentData.ContentData.isError(t))return null;const n=e.isModule?"module":"script";return o.FormatterWorkerPool.formatterWorkerPool().javaScriptScopeTree(t.text,n)})),i.set(e,t)),t}var c=Object.freeze({__proto__:null,scopeTreeForScript:a});const u=new WeakMap,l=new WeakMap,p=new WeakMap;async function g(e){const t=await e.requestContentData();if(s.ContentData.ContentData.isError(t)||!t.isTextContent)return null;let n=p.get(t);return void 0===n&&(n=new s.Text.Text(t.text),p.set(t,n)),n}class d{name;positions;constructor(e,t=[]){this.name=e,this.positions=t}addPosition(e,t){this.positions.push({lineNumber:e,columnNumber:t})}}const f=async function(e){if(!e.sourceMapURL)return null;const t=await g(e);if(!t)return null;const n=await a(e);return n?{scopeTree:n,text:t}:null},b=function(e,t){if(!i(e,t))return[];let n=e;const r=[e];for(;;){let e=!1;for(const a of n.children){if(i(a,t)){r.push(a),n=a,e=!0;break}if(!(o=t,s=a,o.end<=s.start||s.end<=o.start||i(t,a)))return console.error("Wrong nesting of scopes"),[]}if(!e)break}var o,s;return r;function i(e,t){return e.start<=t.start&&e.end>=t.end}};async function m(e){const t=e.range()?.start,n=e.range()?.end;if(!t||!n)return[];const r=t.script();if(!r)return[];const o=await f(r);if(!o)return[];const{scopeTree:s,text:i}=o,a={start:i.offsetFromPosition(t.lineNumber,t.columnNumber),end:i.offsetFromPosition(n.lineNumber,n.columnNumber)};return b(s,a)}const h=async function(e,t,n){const r=await g(e);if(!r)return null;const o=[],i=new s.TextCursor.TextCursor(r.lineEndings());for(const e of t.variables){if(3===e.kind&&e.offsets.length<=1)continue;const t=new d(e.name);for(const n of e.offsets)i.resetTo(n),t.addPosition(i.lineNumber(),i.columnNumber());o.push(t)}const a=[];for(const e of n)for(const n of e.variables){let e=null;for(const r of n.offsets)r>=t.start&&r<t.end&&(e||(e=new d(n.name)),i.resetTo(r),e.addPosition(i.lineNumber(),i.columnNumber()));e&&a.push(e)}return{boundVariables:o,freeVariables:a}},M=/^\s*([A-Za-z_$][A-Za-z_$0-9]*)\s*([.;,=]?)\s*$/,w=async t=>{if(!e.Settings.Settings.instance().moduleSetting("js-source-maps-enabled").get())return{variableMapping:new Map,thisMapping:null};const n=t.callFrame().script,r=await m(t);return v(n,r)},v=async(e,t)=>{const n=t[t.length-1];if(!n)return{variableMapping:new Map,thisMapping:null};let o=u.get(n);const s=e.sourceMap();if(!o||o.sourceMap!==s){const r=(async()=>{const r=new Map;let o=null;if(!s)return{variableMapping:r,thisMapping:o};const a=[],c=(t,n)=>{for(const e of t.positions){const t=s.findEntry(e.lineNumber,e.columnNumber);if(t&&t.name)return void n(t.name)}a.push(async function(){if(s)for(const r of t.positions){const o=await i(e,s,t.name,r);if(o)return void n(o)}}())},u=await h(e,n,t.slice(0,-1));if(!u)return{variableMapping:r,thisMapping:o};for(const e of u.boundVariables)c(e,(t=>{"this"!==t&&r.set(e.name,t)}));for(const e of u.freeVariables)c(e,(t=>{"this"===t&&(o=e.name)}));return await Promise.all(a).then(k()),{variableMapping:r,thisMapping:o}})();o={sourceMap:s,mappingPromise:r},u.set(n,{sourceMap:s,mappingPromise:r})}return await o.mappingPromise;async function i(e,t,n,o){const s=t.findEntryRanges(o.lineNumber,o.columnNumber);if(!s)return null;const i=r.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().uiSourceCodeForSourceMapSourceURL(e.debuggerModel,s.sourceURL,e.isContentScript());if(!i)return null;const a=await g(e);if(!a)return null;const c=m(a.extract(s.range));if(!c)return null;const{name:u,punctuation:l}=c;if(u!==n)return null;const p=await g(i);if(!p)return null;const d=m(p.extract(s.sourceRange));if(!d)return null;const{name:f,punctuation:b}=d;return l===b||"comma"===l&&"semicolon"===b?f:null;function m(e){const t=e.match(M);if(!t)return null;const n=t[1];let r=null;switch(t[2]){case".":r="dot";break;case",":r="comma";break;case";":r="semicolon";break;case"=":r="equals";break;case"":r="none";break;default:return console.error(`Name token parsing error: unexpected token "${t[2]}"`),null}return{name:n,punctuation:r}}}},j=async function(e){const{pluginManager:t}=r.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance(),n=await t.resolveScopeChain(e);if(n)return n;if(e.script.isWasm())return e.scopeChain();const o=await y(e);return e.scopeChain().map((e=>new F(e,o)))},S=async t=>{if(!e.Settings.Settings.instance().moduleSetting("js-source-maps-enabled").get())return new Map;const n=l.get(t);if(n)return n;const r=t.scopeChain(),o=await Promise.all(r.map(w)),s=new Map,i=new Set;for(const{variableMapping:e}of o)for(const[t,n]of e)if(n){if(!s.has(n)){const e=i.has(t)?null:t;s.set(n,e)}i.add(t)}return l.set(t,s),s},y=async e=>{const t=e.scopeChain();if(0===t.length)return e.thisObject();const{thisMapping:n}=await w(t[0]);if(!n)return e.thisObject();const r=await e.evaluate({expression:n,objectGroup:"backtrace",includeCommandLineAPI:!1,silent:!0,returnByValue:!1,generatePreview:!0});return"exceptionDetails"in r?!r.exceptionDetails&&r.object?r.object:e.thisObject():null},x=function(e){const t=e.range()?.end,n=e.range()?.start.script()??null;return"global"!==e.type()&&n&&t&&n.sourceMapURL?new C(e):e.object()};class F{#e;#t;constructor(e,t){this.#e=e,this.#t=t}callFrame(){return this.#e.callFrame()}type(){return this.#e.type()}typeName(){return this.#e.typeName()}name(){return this.#e.name()}range(){return this.#e.range()}object(){return x(this.#e)}description(){return this.#e.description()}icon(){return this.#e.icon()}extraProperties(){const e=this.#e.extraProperties();return this.#t&&"local"===this.type()&&e.unshift(new n.RemoteObject.RemoteObjectProperty("this",this.#t,void 0,void 0,void 0,void 0,void 0,!0)),e}}class C extends n.RemoteObject.RemoteObject{scope;object;constructor(e){super(),this.scope=e,this.object=e.object()}customPreview(){return this.object.customPreview()}get objectId(){return this.object.objectId}get type(){return this.object.type}get subtype(){return this.object.subtype}get value(){return this.object.value}get description(){return this.object.description}get hasChildren(){return this.object.hasChildren}get preview(){return this.object.preview}arrayLength(){return this.object.arrayLength()}getOwnProperties(e){return this.object.getOwnProperties(e)}async getAllProperties(e,t){const n=await this.object.getAllProperties(e,t),{variableMapping:r}=await w(this.scope),o=n.properties,s=n.internalProperties,i=o?.map((e=>{const t=r.get(e.name);return void 0!==t?e.cloneWithNewName(t):e}));return{properties:i??[],internalProperties:s}}async setPropertyValue(e,t){const{variableMapping:n}=await w(this.scope);let r;r="string"==typeof e?e:e.value;let o=r;for(const e of n.keys())if(n.get(e)===r){o=e;break}return this.object.setPropertyValue(o,t)}async deleteProperty(e){return this.object.deleteProperty(e)}callFunction(e,t){return this.object.callFunction(e,t)}callFunctionJSON(e,t){return this.object.callFunctionJSON(e,t)}release(){this.object.release()}debuggerModel(){return this.object.debuggerModel()}runtimeModel(){return this.object.runtimeModel()}isNode(){return this.object.isNode()}}async function P(e,t,n){const r=e.sourceMap();if(!r)return null;const o=r.findEntry(t,n);if(!o||!o.sourceURL)return null;const i=r.findScopeEntry(o.sourceURL,o.sourceLineNumber,o.sourceColumnNumber)?.scopeName();if(i)return i;const a=o.name;if(!a)return null;const c=await g(e);if(!c)return null;const u=new s.TextRange.TextRange(t,n,t,n+1);return"("!==c.extract(u)?null:a}let N=function(){};const k=()=>N;var R=Object.freeze({__proto__:null,getTextFor:g,IdentifierPositions:d,findScopeChainForDebuggerScope:m,scopeIdentifiers:h,resolveScopeChain:j,allVariablesInCallFrame:S,allVariablesAtPosition:async t=>{const n=new Map;if(!e.Settings.Settings.instance().moduleSetting("js-source-maps-enabled").get())return n;const r=t.script();if(!r)return n;const o=await f(r);if(!o)return n;const{scopeTree:s,text:i}=o,a=i.offsetFromPosition(t.lineNumber,t.columnNumber),c=b(s,{start:a,end:a}),u=new Set;for(;c.length>0;){const{variableMapping:e}=await v(r,c);for(const[t,r]of e)if(r){if(!n.has(r)){const e=u.has(t)?null:t;n.set(r,e)}u.add(t)}c.pop()}return n},resolveExpression:async(e,n,i,a,c,u)=>{if("application/wasm"===i.mimeType())return`memories["${n}"] ?? locals["${n}"] ?? tables["${n}"] ?? functions["${n}"] ?? globals["${n}"]`;if(!i.contentType().isFromSourceMap())return"";const l=await S(e);if(l.has(n))return l.get(n);const p=(await r.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().uiLocationToRawLocations(i,a,c)).find((t=>t.debuggerModel===e.debuggerModel));if(!p)return"";const d=p.script();if(!d)return"";const f=d.sourceMap();if(!f)return"";const b=await g(d);if(!b)return"";const m=f.reverseMapTextRanges(i.url(),new s.TextRange.TextRange(a,c,a,u));if(1!==m.length)return"";const[h]=m,M=b.extract(h);if(!M)return"";const w=await g(i);if(!w)return"";const v=f.findEntryRanges(h.startLine,h.startColumn),j=0===h.endColumn?h.endLine-1:h.endLine,y=0===h.endColumn?b.lineEndings()[j]:h.endColumn-1,x=f.findEntryRanges(j,y);if(!v||!x)return"";const F=w.extract(new s.TextRange.TextRange(v.sourceRange.startLine,v.sourceRange.startColumn,x.sourceRange.endLine,x.sourceRange.endColumn));return new RegExp(`^[\\s,;]*${t.StringUtilities.escapeForRegExp(n)}`,"g").test(F)?await o.FormatterWorkerPool.formatterWorkerPool().evaluatableJavaScriptSubstring(M):""},resolveThisObject:y,resolveScopeInObject:x,RemoteObject:C,resolveDebuggerFrameFunctionName:async function(e){const t=e.localScope()?.range()?.start;return t?await P(e.script,t.lineNumber,t.columnNumber):null},resolveProfileFrameFunctionName:async function({scriptId:e,lineNumber:t,columnNumber:o},s){if(!s||void 0===t||void 0===o||void 0===e)return null;const i=s.model(n.DebuggerModel.DebuggerModel),a=i?.scriptForId(String(e));if(!i||!a)return null;const c=r.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance(),u=new n.DebuggerModel.Location(i,e,t,o),l=await c.pluginManager.getFunctionInfo(a,u);if(l&&"frames"in l){const e=l.frames.at(-1);if(e?.name)return e.name}return await P(a,t,o)},getScopeResolvedForTest:k,setScopeResolvedForTest:e=>{N=e}});class T extends e.ObjectWrapper.ObjectWrapper{#n;#r=new e.Throttler.Throttler(5);#o=this.#s.bind(this);constructor(e){super(),this.#n=e,this.#n.debuggerModel.addEventListener(n.DebuggerModel.Events.DebugInfoAttached,this.#i,this),this.#n.debuggerModel.sourceMapManager().addEventListener(n.SourceMapManager.Events.SourceMapAttached,this.#a,this),this.#r.schedule(this.#o)}dispose(){this.#n.debuggerModel.removeEventListener(n.DebuggerModel.Events.DebugInfoAttached,this.#i,this),this.#n.debuggerModel.sourceMapManager().removeEventListener(n.SourceMapManager.Events.SourceMapAttached,this.#a,this),this.listeners?.clear()}async#s(){const e=await j(this.#n);this.dispatchEventToListeners("ScopeChainUpdated",new D(e))}#i(e){e.data===this.#n.script&&this.#r.schedule(this.#o)}#a(e){e.data.client===this.#n.script&&this.#r.schedule(this.#o)}}class D{scopeChain;constructor(e){this.scopeChain=e}}var L=Object.freeze({__proto__:null,ScopeChainModel:T,ScopeChain:D});export{R as NamesResolver,L as ScopeChainModel,c as ScopeTreeCache};
=======
import*as e from"../../core/sdk/sdk.js";import*as t from"../bindings/bindings.js";import*as n from"../formatter/formatter.js";import*as r from"../text_utils/text_utils.js";import*as o from"../../core/platform/platform.js";const s=new WeakMap,i=new WeakMap,a=new WeakMap;async function c(e){const t=await e.requestContent();let n=a.get(t);if(void 0===n){const{content:e}=t;n=e?new r.Text.Text(e):null,a.set(t,n)}return n}class u{name;positions;constructor(e,t=[]){this.name=e,this.positions=t}addPosition(e,t){this.positions.push({lineNumber:e,columnNumber:t})}}const l=async function(e){const t=e.startLocation(),o=e.endLocation();if(!t||!o)return null;const s=t.script();if(!s||!s.sourceMapURL||s!==o.script())return null;const i=await c(s);if(!i)return null;const a=new r.TextRange.TextRange(t.lineNumber,t.columnNumber,o.lineNumber,o.columnNumber),u=i.extract(a),l=i.toSourceRange(a).offset,f=await async function(e){const t=[{prefix:"class DummyClass extends DummyBase { constructor",suffix:"}"},{prefix:"async function* __DEVTOOLS_DUMMY__",suffix:""},{prefix:"async ",suffix:""}];for(const{prefix:r,suffix:o}of t){const t=await n.FormatterWorkerPool.formatterWorkerPool().javaScriptScopeTree(r+e+o);if(t)return{prefixLength:r.length,scopeTree:t}}return null}(u);if(!f)return null;const{prefixLength:p,scopeTree:g}=f;return{scopeTree:g,text:i,slide:l-p}},f=async function(e,t){if(!e)return null;const n=t.startLocation(),o=t.endLocation();if(!n||!o)return null;const s=await l(e);if(!s)return null;const{scopeTree:i,text:a,slide:c}=s,f={start:a.offsetFromPosition(n.lineNumber,n.columnNumber)-c,end:a.offsetFromPosition(o.lineNumber,o.columnNumber)-c};if(!h(i,f))return null;let p=i;const g=[];for(;;){let e=!1;for(const t of p.children){if(h(t,f)){g.push(p),p=t,e=!0;break}if(!w(f,t)&&!h(f,t))return console.error("Wrong nesting of scopes"),null}if(!e)break}const m=[],b=new r.TextCursor.TextCursor(a.lineEndings());for(const e of p.variables){if(3===e.kind&&e.offsets.length<=1)continue;const t=new u(e.name);for(const n of e.offsets){const e=n+c;b.resetTo(e),t.addPosition(b.lineNumber(),b.columnNumber())}m.push(t)}const d=[];for(const e of g)for(const t of e.variables){let e=null;for(const n of t.offsets)if(n>=p.start&&n<p.end){e||(e=new u(t.name));const r=n+c;b.resetTo(r),e.addPosition(b.lineNumber(),b.columnNumber())}e&&d.push(e)}return{boundVariables:m,freeVariables:d};function h(e,t){return e.start<=t.start&&e.end>=t.end}function w(e,t){return e.end<=t.start||t.end<=e.start}},p=/^\s*([A-Za-z_$][A-Za-z_$0-9]*)\s*([.;,=]?)\s*$/,g=async e=>{let n=s.get(e);const r=e.callFrame().script,o=r.debuggerModel.sourceMapManager().sourceMapForClient(r);if(!n||n.sourceMap!==o){const t=(async()=>{const t=new Map;let n=null;if(!o)return{variableMapping:t,thisMapping:n};const s=[],a=(e,t)=>{for(const n of e.positions){const e=o.findEntry(n.lineNumber,n.columnNumber);if(e&&e.name)return void t(e.name)}s.push(async function(){if(o)for(const n of e.positions){const s=await i(r,o,e.name,n);if(s)return void t(s)}}())},c=function(){const t=e.callFrame().scopeChain();let n=0;for(;n<t.length&&t[n]!==e;n++);for(;n<t.length;n++){const e=t[n].type();if("local"===e||"closure"===e)break}return n===t.length?null:t[n]}(),u=await f(c,e);if(!u)return{variableMapping:t,thisMapping:n};for(const e of u.boundVariables)a(e,(n=>{"this"!==n&&t.set(e.name,n)}));for(const e of u.freeVariables)a(e,(t=>{"this"===t&&(n=e.name)}));return await Promise.all(s).then(w()),{variableMapping:t,thisMapping:n}})();n={sourceMap:o,mappingPromise:t},s.set(e,{sourceMap:o,mappingPromise:t})}return await n.mappingPromise;async function i(e,n,r,o){const s=n.findEntryRanges(o.lineNumber,o.columnNumber);if(!s)return null;const i=t.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().uiSourceCodeForSourceMapSourceURL(e.debuggerModel,s.sourceURL,e.isContentScript());if(!i)return null;const a=await c(e);if(!a)return null;const u=h(a.extract(s.range));if(!u)return null;const{name:l,punctuation:f}=u;if(l!==r)return null;const g=await c(i);if(!g)return null;const m=h(g.extract(s.sourceRange));if(!m)return null;const{name:b,punctuation:d}=m;return f===d||"comma"===f&&"semicolon"===d?b:null;function h(e){const t=e.match(p);if(!t)return null;const n=t[1];let r=null;switch(t[2]){case".":r="dot";break;case",":r="comma";break;case";":r="semicolon";break;case"=":r="equals";break;case"":r="none";break;default:return console.error(`Name token parsing error: unexpected token "${t[2]}"`),null}return{name:n,punctuation:r}}}},m=async e=>{const t=i.get(e);if(t)return t;const n=e.scopeChain(),r=await Promise.all(n.map(g)),o=new Map;for(const{variableMapping:e}of r)for(const[t,n]of e)n&&!o.has(n)&&o.set(n,t);return i.set(e,o),o};class b extends e.RemoteObject.RemoteObject{scope;object;constructor(e){super(),this.scope=e,this.object=e.object()}customPreview(){return this.object.customPreview()}get objectId(){return this.object.objectId}get type(){return this.object.type}get subtype(){return this.object.subtype}get value(){return this.object.value}get description(){return this.object.description}get hasChildren(){return this.object.hasChildren}get preview(){return this.object.preview}arrayLength(){return this.object.arrayLength()}getOwnProperties(e){return this.object.getOwnProperties(e)}async getAllProperties(t,n){const r=await this.object.getAllProperties(t,n),{variableMapping:o}=await g(this.scope),s=r.properties,i=r.internalProperties,a=[];if(s)for(let t=0;t<s.length;++t){const n=s[t],r=o.get(n.name)||s[t].name;n.value&&a.push(new e.RemoteObject.RemoteObjectProperty(r,n.value,n.enumerable,n.writable,n.isOwn,n.wasThrown,n.symbol,n.synthetic))}return{properties:a,internalProperties:i}}async setPropertyValue(e,t){const{variableMapping:n}=await g(this.scope);let r;r="string"==typeof e?e:e.value;let o=r;for(const e of n.keys())if(n.get(e)===r){o=e;break}return this.object.setPropertyValue(o,t)}async deleteProperty(e){return this.object.deleteProperty(e)}callFunction(e,t){return this.object.callFunction(e,t)}callFunctionJSON(e,t){return this.object.callFunctionJSON(e,t)}release(){this.object.release()}debuggerModel(){return this.object.debuggerModel()}runtimeModel(){return this.object.runtimeModel()}isNode(){return this.object.isNode()}}async function d(e,t,n){const o=e.debuggerModel.sourceMapManager().sourceMapForClient(e);if(!o)return null;const s=o.findEntry(t,n)?.name;if(!s)return null;const i=await c(e);if(!i)return null;const a=new r.TextRange.TextRange(t,n,t,n+1);return"("!==i.extract(a)?null:s}let h=function(){};const w=()=>h;var M=Object.freeze({__proto__:null,IdentifierPositions:u,scopeIdentifiers:f,resolveScopeChain:async function(e){if(!e)return null;const{pluginManager:n}=t.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance();if(n){const t=await n.resolveScopeChain(e);if(t)return t}return e.scopeChain()},allVariablesInCallFrame:m,resolveExpression:async(e,s,i,a,u,l)=>{if("application/wasm"===i.mimeType())return`memories["${s}"] ?? locals["${s}"] ?? tables["${s}"] ?? functions["${s}"] ?? globals["${s}"]`;if(!i.contentType().isFromSourceMap())return"";const f=await m(e);if(f.has(s))return f.get(s);const p=(await t.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().uiLocationToRawLocations(i,a,u)).find((t=>t.debuggerModel===e.debuggerModel));if(!p)return"";const g=p.script();if(!g)return"";const b=g.debuggerModel.sourceMapManager().sourceMapForClient(g);if(!b)return"";const d=await c(g);if(!d)return"";const h=b.reverseMapTextRanges(i.url(),new r.TextRange.TextRange(a,u,a,l));if(1!==h.length)return"";const[w]=h,M=d.extract(w);if(!M)return"";const y=await c(i);if(!y)return"";const j=b.findEntryRanges(w.startLine,w.startColumn),x=0===w.endColumn?w.endLine-1:w.endLine,v=0===w.endColumn?d.lineEndings()[x]:w.endColumn-1,R=b.findEntryRanges(x,v);if(!j||!R)return"";const k=y.extract(new r.TextRange.TextRange(j.sourceRange.startLine,j.sourceRange.startColumn,R.sourceRange.endLine,R.sourceRange.endColumn));return new RegExp(`^[\\s,;]*${o.StringUtilities.escapeForRegExp(s)}`,"g").test(k)?await n.FormatterWorkerPool.formatterWorkerPool().evaluatableJavaScriptSubstring(M):""},resolveThisObject:async e=>{if(!e)return null;const t=e.scopeChain();if(0===t.length)return e.thisObject();const{thisMapping:n}=await g(t[0]);if(!n)return e.thisObject();const r=await e.evaluate({expression:n,objectGroup:"backtrace",includeCommandLineAPI:!1,silent:!0,returnByValue:!1,generatePreview:!0});return"exceptionDetails"in r?!r.exceptionDetails&&r.object?r.object:e.thisObject():null},resolveScopeInObject:function(e){const t=e.startLocation(),n=e.endLocation(),r=t?t.script():null;return"global"!==e.type()&&r&&n&&r.sourceMapURL&&r===n.script()?new b(e):e.object()},RemoteObject:b,resolveDebuggerFrameFunctionName:async function(e){const t=e.localScope()?.startLocation();return t?await d(e.script,t.lineNumber,t.columnNumber):null},resolveProfileFrameFunctionName:async function({scriptId:n,lineNumber:r,columnNumber:o},s){if(!s||void 0===r||void 0===o||void 0===n)return null;const i=s.model(e.DebuggerModel.DebuggerModel),a=i?.scriptForId(String(n));if(!i||!a)return null;const c=t.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance(),u=new e.DebuggerModel.Location(i,n,r,o),l=await(c.pluginManager?.getFunctionInfo(a,u));if(l&&"frames"in l){const e=l.frames.at(-1);if(e?.name)return e.name}return await d(a,r,o)},getScopeResolvedForTest:w,setScopeResolvedForTest:e=>{h=e}});export{M as NamesResolver};
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
