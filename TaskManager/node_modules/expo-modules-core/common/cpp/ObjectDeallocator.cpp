// Copyright 2022-present 650 Industries. All rights reserved.

#include "ObjectDeallocator.h"
#include "JSIUtils.h"

namespace expo::common {

void setDeallocator(
  jsi::Runtime &runtime,
  const std::shared_ptr<jsi::Object> &jsThis,
  ObjectDeallocator::Block deallocatorBlock
) {
  std::shared_ptr<ObjectDeallocator> objectDeallocator = std::make_shared<ObjectDeallocator>(
<<<<<<< HEAD
    std::move(deallocatorBlock)
=======
    deallocatorBlock
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
  );
  jsThis->setNativeState(runtime, objectDeallocator);
}

} // namespace expo::common
