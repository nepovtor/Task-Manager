"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
<<<<<<< HEAD
    formatDeviceChoice: function() {
        return formatDeviceChoice;
    },
    promptDeviceAsync: function() {
        return promptDeviceAsync;
    }
});
function _chalk() {
    const data = /*#__PURE__*/ _interop_require_default(require("chalk"));
=======
    formatDeviceChoice: ()=>formatDeviceChoice,
    promptDeviceAsync: ()=>promptDeviceAsync
});
function _chalk() {
    const data = /*#__PURE__*/ _interopRequireDefault(require("chalk"));
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    _chalk = function() {
        return data;
    };
    return data;
}
<<<<<<< HEAD
const _prompts = /*#__PURE__*/ _interop_require_default(require("../../../utils/prompts"));
function _interop_require_default(obj) {
=======
const _prompts = /*#__PURE__*/ _interopRequireDefault(require("../../../utils/prompts"));
function _interopRequireDefault(obj) {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function isConnectedDevice(item) {
<<<<<<< HEAD
    return 'deviceType' in item;
}
function isSimControlDevice(item) {
    return 'state' in item;
}
function formatDeviceChoice(item) {
    const isConnected = isConnectedDevice(item) && item.deviceType === 'device';
    const isActive = isSimControlDevice(item) && item.state === 'Booted';
    const symbol = item.osType === 'macOS' ? 'ðŸ–¥ï¸  ' : isConnected ? item.connectionType === 'Network' ? 'ðŸŒ ' : 'ðŸ”Œ ' : '';
    const format = isActive ? _chalk().default.bold : (text)=>text;
    return {
        title: `${symbol}${format(item.name)}${item.osVersion ? _chalk().default.dim(` (${item.osVersion})`) : ''}`,
=======
    return "deviceType" in item;
}
function isSimControlDevice(item) {
    return "state" in item;
}
function formatDeviceChoice(item) {
    const isConnected = isConnectedDevice(item) && item.deviceType === "device";
    const isActive = isSimControlDevice(item) && item.state === "Booted";
    const symbol = item.osType === "macOS" ? "\uD83D\uDDA5ï¸  " : isConnected ? item.connectionType === "Network" ? "\uD83C\uDF10 " : "\uD83D\uDD0C " : "";
    const format = isActive ? _chalk().default.bold : (text)=>text;
    return {
        title: `${symbol}${format(item.name)}${item.osVersion ? _chalk().default.dim(` (${item.osVersion})`) : ""}`,
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
        value: item.udid
    };
}
async function promptDeviceAsync(devices) {
    // --device with no props after
<<<<<<< HEAD
    const { value } = await (0, _prompts.default)({
        type: 'autocomplete',
        name: 'value',
        limit: 11,
        message: 'Select a device',
        choices: devices.map((item)=>formatDeviceChoice(item)),
        suggest: (input, choices)=>{
            const regex = new RegExp(input, 'i');
=======
    const { value  } = await (0, _prompts.default)({
        type: "autocomplete",
        name: "value",
        limit: 11,
        message: "Select a device",
        choices: devices.map((item)=>formatDeviceChoice(item)),
        suggest: (input, choices)=>{
            const regex = new RegExp(input, "i");
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
            return choices.filter((choice)=>regex.test(choice.title));
        }
    });
    return devices.find((device)=>device.udid === value);
}

//# sourceMappingURL=promptDevice.js.map