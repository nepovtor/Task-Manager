"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "simulatorBuildRequiresCodeSigning", {
    enumerable: true,
<<<<<<< HEAD
    get: function() {
        return simulatorBuildRequiresCodeSigning;
    }
});
function _configplugins() {
    const data = require("@expo/config-plugins");
    _configplugins = function() {
=======
    get: ()=>simulatorBuildRequiresCodeSigning
});
function _configPlugins() {
    const data = require("@expo/config-plugins");
    _configPlugins = function() {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
        return data;
    };
    return data;
}
function _plist() {
<<<<<<< HEAD
    const data = /*#__PURE__*/ _interop_require_default(require("@expo/plist"));
=======
    const data = /*#__PURE__*/ _interopRequireDefault(require("@expo/plist"));
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    _plist = function() {
        return data;
    };
    return data;
}
function _fs() {
<<<<<<< HEAD
    const data = /*#__PURE__*/ _interop_require_default(require("fs"));
=======
    const data = /*#__PURE__*/ _interopRequireDefault(require("fs"));
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    _fs = function() {
        return data;
    };
    return data;
}
<<<<<<< HEAD
function _interop_require_default(obj) {
=======
function _interopRequireDefault(obj) {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
<<<<<<< HEAD
const debug = require('debug')('expo:run:ios:codeSigning:simulator');
=======
const debug = require("debug")("expo:run:ios:codeSigning:simulator");
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
// NOTE(EvanBacon): These are entitlements that work in a simulator
// but still require the project to have development code signing setup.
// There may be more, but this is fine for now.
const ENTITLEMENTS_THAT_REQUIRE_CODE_SIGNING = [
<<<<<<< HEAD
    'com.apple.developer.associated-domains',
    'com.apple.developer.applesignin'
];
function getEntitlements(projectRoot) {
    try {
        const entitlementsPath = _configplugins().IOSConfig.Entitlements.getEntitlementsPath(projectRoot);
        if (!entitlementsPath || !_fs().default.existsSync(entitlementsPath)) {
            return null;
        }
        const entitlementsContents = _fs().default.readFileSync(entitlementsPath, 'utf8');
        const entitlements = _plist().default.parse(entitlementsContents);
        return entitlements;
    } catch (error) {
        debug('Failed to read entitlements', error);
=======
    "com.apple.developer.associated-domains",
    "com.apple.developer.applesignin", 
];
function getEntitlements(projectRoot) {
    try {
        const entitlementsPath = _configPlugins().IOSConfig.Entitlements.getEntitlementsPath(projectRoot);
        if (!entitlementsPath || !_fs().default.existsSync(entitlementsPath)) {
            return null;
        }
        const entitlementsContents = _fs().default.readFileSync(entitlementsPath, "utf8");
        const entitlements = _plist().default.parse(entitlementsContents);
        return entitlements;
    } catch (error) {
        debug("Failed to read entitlements", error);
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    }
    return null;
}
function simulatorBuildRequiresCodeSigning(projectRoot) {
    const entitlements = getEntitlements(projectRoot);
    if (!entitlements) {
        return false;
    }
    return ENTITLEMENTS_THAT_REQUIRE_CODE_SIGNING.some((entitlement)=>entitlement in entitlements);
}

//# sourceMappingURL=simulatorCodeSigning.js.map