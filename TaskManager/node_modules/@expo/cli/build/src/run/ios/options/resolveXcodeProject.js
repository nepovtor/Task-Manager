"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "resolveXcodeProject", {
    enumerable: true,
<<<<<<< HEAD
    get: function() {
        return resolveXcodeProject;
    }
=======
    get: ()=>resolveXcodeProject
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
});
function _glob() {
    const data = require("glob");
    _glob = function() {
        return data;
    };
    return data;
}
const _errors = require("../../../utils/errors");
const ignoredPaths = [
<<<<<<< HEAD
    '**/@(Carthage|Pods|vendor|node_modules)/**'
=======
    "**/@(Carthage|Pods|vendor|node_modules)/**"
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
];
function findXcodeProjectPaths(projectRoot, extension) {
    return (0, _glob().sync)(`ios/*.${extension}`, {
        absolute: true,
        cwd: projectRoot,
        ignore: ignoredPaths
    });
}
function resolveXcodeProject(projectRoot) {
<<<<<<< HEAD
    let paths = findXcodeProjectPaths(projectRoot, 'xcworkspace');
=======
    let paths = findXcodeProjectPaths(projectRoot, "xcworkspace");
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    if (paths.length) {
        return {
            // Use full path instead of relative project root so that warnings and errors contain full paths as well, this helps with filtering.
            // Also helps keep things consistent in monorepos.
            name: paths[0],
            // name: path.relative(projectRoot, paths[0]),
            isWorkspace: true
        };
    }
<<<<<<< HEAD
    paths = findXcodeProjectPaths(projectRoot, 'xcodeproj');
=======
    paths = findXcodeProjectPaths(projectRoot, "xcodeproj");
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    if (paths.length) {
        return {
            name: paths[0],
            isWorkspace: false
        };
    }
<<<<<<< HEAD
    throw new _errors.CommandError('IOS_MALFORMED', `Xcode project not found in project: ${projectRoot}. You can generate a project with \`npx expo prebuild\``);
=======
    throw new _errors.CommandError("IOS_MALFORMED", `Xcode project not found in project: ${projectRoot}. You can generate a project with \`npx expo prebuild\``);
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
}

//# sourceMappingURL=resolveXcodeProject.js.map