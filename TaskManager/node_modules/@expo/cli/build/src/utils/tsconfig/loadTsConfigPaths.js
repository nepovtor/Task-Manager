"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
<<<<<<< HEAD
    loadTsConfigPathsAsync: function() {
        return loadTsConfigPathsAsync;
    },
    readTsconfigAsync: function() {
        return readTsconfigAsync;
    }
});
function _jsonfile() {
    const data = /*#__PURE__*/ _interop_require_default(require("@expo/json-file"));
    _jsonfile = function() {
=======
    loadTsConfigPathsAsync: ()=>loadTsConfigPathsAsync,
    readTsconfigAsync: ()=>readTsconfigAsync
});
function _jsonFile() {
    const data = /*#__PURE__*/ _interopRequireDefault(require("@expo/json-file"));
    _jsonFile = function() {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
        return data;
    };
    return data;
}
function _path() {
<<<<<<< HEAD
    const data = /*#__PURE__*/ _interop_require_default(require("path"));
=======
    const data = /*#__PURE__*/ _interopRequireDefault(require("path"));
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    _path = function() {
        return data;
    };
    return data;
}
const _evaluateTsConfig = require("./evaluateTsConfig");
const _dir = require("../dir");
<<<<<<< HEAD
function _interop_require_default(obj) {
=======
function _interopRequireDefault(obj) {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
<<<<<<< HEAD
const debug = require('debug')('expo:utils:tsconfig:load');
async function loadTsConfigPathsAsync(dir) {
    const options = await readTsconfigAsync(dir) ?? await readJsconfigAsync(dir);
    if (options) {
        var _config_compilerOptions, _config_compilerOptions1;
        const [, config] = options;
        return {
            paths: (_config_compilerOptions = config.compilerOptions) == null ? void 0 : _config_compilerOptions.paths,
            baseUrl: ((_config_compilerOptions1 = config.compilerOptions) == null ? void 0 : _config_compilerOptions1.baseUrl) ? _path().default.resolve(dir, config.compilerOptions.baseUrl) : undefined
=======
const debug = require("debug")("expo:utils:tsconfig:load");
async function loadTsConfigPathsAsync(dir) {
    var ref;
    const options = (ref = await readTsconfigAsync(dir)) != null ? ref : await readJsconfigAsync(dir);
    if (options) {
        var ref1, ref2;
        const [, config] = options;
        return {
            paths: (ref1 = config.compilerOptions) == null ? void 0 : ref1.paths,
            baseUrl: ((ref2 = config.compilerOptions) == null ? void 0 : ref2.baseUrl) ? _path().default.resolve(dir, config.compilerOptions.baseUrl) : undefined
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
        };
    }
    return null;
}
async function readJsconfigAsync(projectRoot) {
<<<<<<< HEAD
    const configPath = _path().default.join(projectRoot, 'jsconfig.json');
    if (await (0, _dir.fileExistsAsync)(configPath)) {
        const config = await _jsonfile().default.readAsync(configPath, {
=======
    const configPath = _path().default.join(projectRoot, "jsconfig.json");
    if (await (0, _dir.fileExistsAsync)(configPath)) {
        const config = await _jsonFile().default.readAsync(configPath, {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
            json5: true
        });
        if (config) {
            return [
                configPath,
                config
            ];
        }
    }
    return null;
}
async function readTsconfigAsync(projectRoot) {
<<<<<<< HEAD
    const configPath = _path().default.join(projectRoot, 'tsconfig.json');
=======
    const configPath = _path().default.join(projectRoot, "tsconfig.json");
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    if (await (0, _dir.fileExistsAsync)(configPath)) {
        // We need to fully evaluate the tsconfig to get the baseUrl and paths in case they were applied in `extends`.
        const ts = (0, _evaluateTsConfig.importTypeScriptFromProjectOptionally)(projectRoot);
        if (ts) {
            return [
                configPath,
                (0, _evaluateTsConfig.evaluateTsConfig)(ts, configPath)
            ];
        }
        debug(`typescript module not found in: ${projectRoot}`);
    }
    return null;
}

//# sourceMappingURL=loadTsConfigPaths.js.map