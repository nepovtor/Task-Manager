"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "wrapFetchWithBaseUrl", {
    enumerable: true,
<<<<<<< HEAD
    get: function() {
        return wrapFetchWithBaseUrl;
    }
=======
    get: ()=>wrapFetchWithBaseUrl
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
});
function _url() {
    const data = require("url");
    _url = function() {
        return data;
    };
    return data;
}
function wrapFetchWithBaseUrl(fetch, baseUrl) {
    // NOTE(EvanBacon): DO NOT RETURN AN ASYNC WRAPPER. THIS BREAKS LOADING INDICATORS.
    return (url, init)=>{
<<<<<<< HEAD
        if (typeof url !== 'string') {
            throw new TypeError('Custom fetch function only accepts a string URL as the first parameter');
=======
        if (typeof url !== "string") {
            throw new TypeError("Custom fetch function only accepts a string URL as the first parameter");
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
        }
        const parsed = new (_url()).URL(url, baseUrl);
        if (init == null ? void 0 : init.searchParams) {
            parsed.search = init.searchParams.toString();
        }
<<<<<<< HEAD
=======
        // debug('fetch:', parsed.toString().trim());
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
        return fetch(parsed.toString(), init);
    };
}

//# sourceMappingURL=wrapFetchWithBaseUrl.js.map