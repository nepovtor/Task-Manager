"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "AppleAppIdResolver", {
    enumerable: true,
<<<<<<< HEAD
    get: function() {
        return AppleAppIdResolver;
    }
});
function _configplugins() {
    const data = require("@expo/config-plugins");
    _configplugins = function() {
=======
    get: ()=>AppleAppIdResolver
});
function _configPlugins() {
    const data = require("@expo/config-plugins");
    _configPlugins = function() {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
        return data;
    };
    return data;
}
function _plist() {
<<<<<<< HEAD
    const data = /*#__PURE__*/ _interop_require_default(require("@expo/plist"));
=======
    const data = /*#__PURE__*/ _interopRequireDefault(require("@expo/plist"));
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    _plist = function() {
        return data;
    };
    return data;
}
function _fs() {
<<<<<<< HEAD
    const data = /*#__PURE__*/ _interop_require_default(require("fs"));
=======
    const data = /*#__PURE__*/ _interopRequireDefault(require("fs"));
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    _fs = function() {
        return data;
    };
    return data;
}
<<<<<<< HEAD
const _AppIdResolver = require("../AppIdResolver");
function _interop_require_default(obj) {
=======
const _appIdResolver = require("../AppIdResolver");
function _interopRequireDefault(obj) {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
<<<<<<< HEAD
const debug = require('debug')('expo:start:platforms:ios:AppleAppIdResolver');
class AppleAppIdResolver extends _AppIdResolver.AppIdResolver {
    constructor(projectRoot){
        super(projectRoot, 'ios', 'ios.bundleIdentifier');
=======
const debug = require("debug")("expo:start:platforms:ios:AppleAppIdResolver");
class AppleAppIdResolver extends _appIdResolver.AppIdResolver {
    constructor(projectRoot){
        super(projectRoot, "ios", "ios.bundleIdentifier");
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    }
    /** @return `true` if the app has valid `*.pbxproj` file */ async hasNativeProjectAsync() {
        try {
            // Never returns nullish values.
<<<<<<< HEAD
            return !!_configplugins().IOSConfig.Paths.getAllPBXProjectPaths(this.projectRoot).length;
        } catch (error) {
            debug('Expected error checking for native project:', error.message);
=======
            return !!_configPlugins().IOSConfig.Paths.getAllPBXProjectPaths(this.projectRoot).length;
        } catch (error) {
            debug("Expected error checking for native project:", error.message);
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
            return false;
        }
    }
    async resolveAppIdFromNativeAsync() {
        // Check xcode project
        try {
<<<<<<< HEAD
            const bundleId = _configplugins().IOSConfig.BundleIdentifier.getBundleIdentifierFromPbxproj(this.projectRoot);
=======
            const bundleId = _configPlugins().IOSConfig.BundleIdentifier.getBundleIdentifierFromPbxproj(this.projectRoot);
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
            if (bundleId) {
                return bundleId;
            }
        } catch (error) {
<<<<<<< HEAD
            debug('Expected error resolving the bundle identifier from the pbxproj:', error);
        }
        // Check Info.plist
        try {
            const infoPlistPath = _configplugins().IOSConfig.Paths.getInfoPlistPath(this.projectRoot);
            const data = await _plist().default.parse(_fs().default.readFileSync(infoPlistPath, 'utf8'));
            if (data.CFBundleIdentifier && !data.CFBundleIdentifier.startsWith('$(')) {
                return data.CFBundleIdentifier;
            }
        } catch (error) {
            debug('Expected error resolving the bundle identifier from the project Info.plist:', error);
=======
            debug("Expected error resolving the bundle identifier from the pbxproj:", error);
        }
        // Check Info.plist
        try {
            const infoPlistPath = _configPlugins().IOSConfig.Paths.getInfoPlistPath(this.projectRoot);
            const data = await _plist().default.parse(_fs().default.readFileSync(infoPlistPath, "utf8"));
            if (data.CFBundleIdentifier && !data.CFBundleIdentifier.startsWith("$(")) {
                return data.CFBundleIdentifier;
            }
        } catch (error1) {
            debug("Expected error resolving the bundle identifier from the project Info.plist:", error1);
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
        }
        return null;
    }
}

//# sourceMappingURL=AppleAppIdResolver.js.map