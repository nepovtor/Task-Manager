"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "HistoryFallbackMiddleware", {
    enumerable: true,
<<<<<<< HEAD
    get: function() {
        return HistoryFallbackMiddleware;
    }
=======
    get: ()=>HistoryFallbackMiddleware
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
});
const _resolvePlatform = require("./resolvePlatform");
class HistoryFallbackMiddleware {
    constructor(indexMiddleware){
        this.indexMiddleware = indexMiddleware;
    }
    getHandler() {
        return (req, res, next)=>{
            const platform = (0, _resolvePlatform.parsePlatformHeader)(req);
<<<<<<< HEAD
            if (!platform || platform === 'web') {
=======
            if (!platform || platform === "web") {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
                // Redirect unknown to the manifest handler while preserving the path.
                // This implements the HTML5 history fallback API.
                return this.indexMiddleware(req, res, next);
            }
            return next();
        };
    }
}

//# sourceMappingURL=HistoryFallbackMiddleware.js.map