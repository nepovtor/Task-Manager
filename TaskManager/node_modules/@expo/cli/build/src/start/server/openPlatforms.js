"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "openPlatformsAsync", {
    enumerable: true,
<<<<<<< HEAD
    get: function() {
        return openPlatformsAsync;
    }
=======
    get: ()=>openPlatformsAsync
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
});
const _errors = require("../../utils/errors");
async function openPlatformsAsync(devServerManager, options) {
    const results = await Promise.allSettled([
<<<<<<< HEAD
        options.android ? devServerManager.getDefaultDevServer().openPlatformAsync('emulator') : null,
        options.ios ? devServerManager.getDefaultDevServer().openPlatformAsync('simulator') : null,
        options.web ? devServerManager.ensureWebDevServerRunningAsync().then(()=>{
            var _devServerManager_getWebDevServer;
            return (_devServerManager_getWebDevServer = devServerManager.getWebDevServer()) == null ? void 0 : _devServerManager_getWebDevServer.openPlatformAsync('desktop');
        }) : null
    ]);
    const errors = results.map((result)=>result.status === 'rejected' ? result.reason : null).filter(Boolean);
    if (errors.length) {
        // ctrl+c
        const isEscapedError = errors.some((error)=>error.code === 'ABORTED');
=======
        options.android ? devServerManager.getDefaultDevServer().openPlatformAsync("emulator") : null,
        options.ios ? devServerManager.getDefaultDevServer().openPlatformAsync("simulator") : null,
        options.web ? devServerManager.ensureWebDevServerRunningAsync().then(()=>{
            var ref;
            return (ref = devServerManager.getWebDevServer()) == null ? void 0 : ref.openPlatformAsync("desktop");
        }) : null, 
    ]);
    const errors = results.map((result)=>result.status === "rejected" ? result.reason : null).filter(Boolean);
    if (errors.length) {
        // ctrl+c
        const isEscapedError = errors.some((error)=>error.code === "ABORTED");
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
        if (isEscapedError) {
            throw new _errors.AbortCommandError();
        }
        throw errors[0];
    }
    return !!options.android || !!options.ios;
}

//# sourceMappingURL=openPlatforms.js.map