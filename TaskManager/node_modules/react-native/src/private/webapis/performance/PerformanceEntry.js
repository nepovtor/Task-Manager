/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @format
 * @flow strict
 */

<<<<<<< HEAD
// flowlint unsafe-getters-setters:off

export type DOMHighResTimeStamp = number;
export type PerformanceEntryType = 'mark' | 'measure' | 'event' | 'longtask';
=======
export type HighResTimeStamp = number;
export type PerformanceEntryType = 'mark' | 'measure' | 'event';
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251

export type PerformanceEntryJSON = {
  name: string,
  entryType: PerformanceEntryType,
<<<<<<< HEAD
  startTime: DOMHighResTimeStamp,
  duration: DOMHighResTimeStamp,
=======
  startTime: HighResTimeStamp,
  duration: HighResTimeStamp,
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
  ...
};

export const ALWAYS_LOGGED_ENTRY_TYPES: $ReadOnlyArray<PerformanceEntryType> = [
  'mark',
  'measure',
];

export class PerformanceEntry {
<<<<<<< HEAD
  #name: string;
  #entryType: PerformanceEntryType;
  #startTime: DOMHighResTimeStamp;
  #duration: DOMHighResTimeStamp;
=======
  name: string;
  entryType: PerformanceEntryType;
  startTime: HighResTimeStamp;
  duration: HighResTimeStamp;
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251

  constructor(init: {
    name: string,
    entryType: PerformanceEntryType,
<<<<<<< HEAD
    startTime: DOMHighResTimeStamp,
    duration: DOMHighResTimeStamp,
  }) {
    this.#name = init.name;
    this.#entryType = init.entryType;
    this.#startTime = init.startTime;
    this.#duration = init.duration;
  }

  get name(): string {
    return this.#name;
  }

  get entryType(): PerformanceEntryType {
    return this.#entryType;
  }

  get startTime(): DOMHighResTimeStamp {
    return this.#startTime;
  }

  get duration(): DOMHighResTimeStamp {
    return this.#duration;
=======
    startTime: HighResTimeStamp,
    duration: HighResTimeStamp,
  }) {
    this.name = init.name;
    this.entryType = init.entryType;
    this.startTime = init.startTime;
    this.duration = init.duration;
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
  }

  toJSON(): PerformanceEntryJSON {
    return {
<<<<<<< HEAD
      name: this.#name,
      entryType: this.#entryType,
      startTime: this.#startTime,
      duration: this.#duration,
=======
      name: this.name,
      entryType: this.entryType,
      startTime: this.startTime,
      duration: this.duration,
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    };
  }
}
