/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @flow strict
 * @format
 */

<<<<<<< HEAD
import Performance from '../../src/private/webapis/performance/Performance';
import NativePerformance from '../../src/private/webapis/performance/specs/NativePerformance';
=======
import NativePerformance from '../../src/private/webapis/performance/NativePerformance';
import Performance from '../../src/private/webapis/performance/Performance';
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251

// In case if the native implementation of the Performance API is available, use it,
// otherwise fall back to the legacy/default one, which only defines 'Performance.now()'
if (NativePerformance) {
  // $FlowExpectedError[cannot-write]
  global.performance = new Performance();
} else {
  if (!global.performance) {
    // $FlowExpectedError[cannot-write]
<<<<<<< HEAD
    global.performance = {
      mark: () => {},
      measure: () => {},
      now: () => {
        const performanceNow = global.nativePerformanceNow || Date.now;
        return performanceNow();
      },
    };
=======
    global.performance = ({
      now: function () {
        const performanceNow = global.nativePerformanceNow || Date.now;
        return performanceNow();
      },
    }: {now?: () => number});
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
  }
}
