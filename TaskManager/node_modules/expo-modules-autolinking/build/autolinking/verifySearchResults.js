"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
<<<<<<< HEAD
exports.verifySearchResults = verifySearchResults;
=======
exports.verifySearchResults = void 0;
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
const chalk_1 = __importDefault(require("chalk"));
const path_1 = __importDefault(require("path"));
/**
 * Verifies the search results by checking whether there are no duplicates.
 */
function verifySearchResults(searchResults, options) {
    const relativePath = (pkg) => path_1.default.relative(options.projectRoot, pkg.path);
    let counter = 0;
    for (const moduleName in searchResults) {
        const revision = searchResults[moduleName];
        if (revision.duplicates?.length) {
<<<<<<< HEAD
            console.warn(`⚠️  Found multiple versions of ${chalk_1.default.green(moduleName)}`);
=======
            console.warn(`⚠️  Found multiple revisions of ${chalk_1.default.green(moduleName)}`);
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
            console.log(` - ${chalk_1.default.magenta(relativePath(revision))} (${chalk_1.default.cyan(revision.version)})`);
            for (const duplicate of revision.duplicates) {
                console.log(` - ${chalk_1.default.gray(relativePath(duplicate))} (${chalk_1.default.gray(duplicate.version)})`);
            }
            counter++;
        }
    }
    if (counter > 0) {
<<<<<<< HEAD
        console.warn('⚠️  Multiple versions of the same module may introduce some side effects or compatibility issues. Remove the duplicate versions.');
    }
    return counter;
}
=======
        console.warn('⚠️  Please get rid of multiple revisions as it may introduce some side effects or compatibility issues');
    }
    return counter;
}
exports.verifySearchResults = verifySearchResults;
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
//# sourceMappingURL=verifySearchResults.js.map