'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.printIteratorEntries = printIteratorEntries;
exports.printIteratorValues = printIteratorValues;
exports.printListItems = printListItems;
exports.printObjectProperties = printObjectProperties;
<<<<<<< HEAD
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
=======

/**
 * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
<<<<<<< HEAD

const getKeysOfEnumerableProperties = (object, compareKeys) => {
  const rawKeys = Object.keys(object);
  const keys = compareKeys !== null ? rawKeys.sort(compareKeys) : rawKeys;
=======
const getKeysOfEnumerableProperties = object => {
  const keys = Object.keys(object).sort();

>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
  if (Object.getOwnPropertySymbols) {
    Object.getOwnPropertySymbols(object).forEach(symbol => {
      if (Object.getOwnPropertyDescriptor(object, symbol).enumerable) {
        keys.push(symbol);
      }
    });
  }
<<<<<<< HEAD
  return keys;
};

=======

  return keys;
};
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
/**
 * Return entries (for example, of a map)
 * with spacing, indentation, and comma
 * without surrounding punctuation (for example, braces)
 */
<<<<<<< HEAD
function printIteratorEntries(
=======

function printIteratorEntries( // Flow 0.51.0: property `@@iterator` of $Iterator not found in Object
  // To allow simplistic getRecordIterator in immutable.js
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
  iterator,
  config,
  indentation,
  depth,
  refs,
<<<<<<< HEAD
  printer,
  // Too bad, so sad that separator for ECMAScript Map has been ' => '
  // What a distracting diff if you change a data structure to/from
  // ECMAScript Object or Immutable.Map/OrderedMap which use the default.
  separator = ': '
) {
  let result = '';
  let width = 0;
  let current = iterator.next();
  if (!current.done) {
    result += config.spacingOuter;
    const indentationNext = indentation + config.indent;
    while (!current.done) {
      result += indentationNext;
      if (width++ === config.maxWidth) {
        result += '…';
        break;
      }
=======
  printer, // Too bad, so sad that separator for ECMAScript Map has been ' => '
  // What a distracting diff if you change a data structure to/from
  separator = ': '
) {
  let result = '';
  let current = iterator.next();

  if (!current.done) {
    result += config.spacingOuter;
    const indentationNext = indentation + config.indent;

    while (!current.done) {
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
      const name = printer(
        current.value[0],
        config,
        indentationNext,
        depth,
        refs
      );
      const value = printer(
        current.value[1],
        config,
        indentationNext,
        depth,
        refs
      );
<<<<<<< HEAD
      result += name + separator + value;
      current = iterator.next();
      if (!current.done) {
        result += `,${config.spacingInner}`;
=======
      result += indentationNext + name + separator + value;
      current = iterator.next();

      if (!current.done) {
        result += ',' + config.spacingInner;
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
      } else if (!config.min) {
        result += ',';
      }
    }
<<<<<<< HEAD
    result += config.spacingOuter + indentation;
  }
  return result;
}

=======

    result += config.spacingOuter + indentation;
  }

  return result;
}
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
/**
 * Return values (for example, of a set)
 * with spacing, indentation, and comma
 * without surrounding punctuation (braces or brackets)
 */
<<<<<<< HEAD
=======

>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
function printIteratorValues(
  iterator,
  config,
  indentation,
  depth,
  refs,
  printer
) {
  let result = '';
<<<<<<< HEAD
  let width = 0;
  let current = iterator.next();
  if (!current.done) {
    result += config.spacingOuter;
    const indentationNext = indentation + config.indent;
    while (!current.done) {
      result += indentationNext;
      if (width++ === config.maxWidth) {
        result += '…';
        break;
      }
      result += printer(current.value, config, indentationNext, depth, refs);
      current = iterator.next();
      if (!current.done) {
        result += `,${config.spacingInner}`;
=======
  let current = iterator.next();

  if (!current.done) {
    result += config.spacingOuter;
    const indentationNext = indentation + config.indent;

    while (!current.done) {
      result +=
        indentationNext +
        printer(current.value, config, indentationNext, depth, refs);
      current = iterator.next();

      if (!current.done) {
        result += ',' + config.spacingInner;
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
      } else if (!config.min) {
        result += ',';
      }
    }
<<<<<<< HEAD
    result += config.spacingOuter + indentation;
  }
  return result;
}

=======

    result += config.spacingOuter + indentation;
  }

  return result;
}
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
/**
 * Return items (for example, of an array)
 * with spacing, indentation, and comma
 * without surrounding punctuation (for example, brackets)
 **/
<<<<<<< HEAD
function printListItems(list, config, indentation, depth, refs, printer) {
  let result = '';
  if (list.length) {
    result += config.spacingOuter;
    const indentationNext = indentation + config.indent;
    for (let i = 0; i < list.length; i++) {
      result += indentationNext;
      if (i === config.maxWidth) {
        result += '…';
        break;
      }
      if (i in list) {
        result += printer(list[i], config, indentationNext, depth, refs);
      }
      if (i < list.length - 1) {
        result += `,${config.spacingInner}`;
=======

function printListItems(list, config, indentation, depth, refs, printer) {
  let result = '';

  if (list.length) {
    result += config.spacingOuter;
    const indentationNext = indentation + config.indent;

    for (let i = 0; i < list.length; i++) {
      result +=
        indentationNext +
        printer(list[i], config, indentationNext, depth, refs);

      if (i < list.length - 1) {
        result += ',' + config.spacingInner;
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
      } else if (!config.min) {
        result += ',';
      }
    }
<<<<<<< HEAD
    result += config.spacingOuter + indentation;
  }
  return result;
}

=======

    result += config.spacingOuter + indentation;
  }

  return result;
}
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
/**
 * Return properties of an object
 * with spacing, indentation, and comma
 * without surrounding punctuation (for example, braces)
 */
<<<<<<< HEAD
function printObjectProperties(val, config, indentation, depth, refs, printer) {
  let result = '';
  const keys = getKeysOfEnumerableProperties(val, config.compareKeys);
  if (keys.length) {
    result += config.spacingOuter;
    const indentationNext = indentation + config.indent;
=======

function printObjectProperties(val, config, indentation, depth, refs, printer) {
  let result = '';
  const keys = getKeysOfEnumerableProperties(val);

  if (keys.length) {
    result += config.spacingOuter;
    const indentationNext = indentation + config.indent;

>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
    for (let i = 0; i < keys.length; i++) {
      const key = keys[i];
      const name = printer(key, config, indentationNext, depth, refs);
      const value = printer(val[key], config, indentationNext, depth, refs);
<<<<<<< HEAD
      result += `${indentationNext + name}: ${value}`;
      if (i < keys.length - 1) {
        result += `,${config.spacingInner}`;
=======
      result += indentationNext + name + ': ' + value;

      if (i < keys.length - 1) {
        result += ',' + config.spacingInner;
>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
      } else if (!config.min) {
        result += ',';
      }
    }
<<<<<<< HEAD
    result += config.spacingOuter + indentation;
  }
=======

    result += config.spacingOuter + indentation;
  }

>>>>>>> 0823204efb84884a0322b43e865bb36631ba8251
  return result;
}
